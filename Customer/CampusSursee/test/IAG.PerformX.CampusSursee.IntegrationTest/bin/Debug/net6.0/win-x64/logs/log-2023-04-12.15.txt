2023-04-12 12:38:02.4810|INFO|IAG.IdentityServer.Startup.ConfigureIdentityServer|Registering identity-plugin IAG.IdentityServer.Plugin.AtlasMitarbeiter
2023-04-12 12:38:02.5345|INFO|IAG.IdentityServer.Startup.ConfigureIdentityServer|Registering identity-plugin IAG.IdentityServer.Plugin.AtlasAdresse
2023-04-12 12:38:02.5345|INFO|IAG.IdentityServer.Startup.ConfigureIdentityServer|Registering identity-plugin IAG.IdentityServer.Plugin.UserDatabaseAuthentication
2023-04-12 12:38:14.7249|DEBUG|IAG.Infrastructure.Middleware.LoggingMiddleware|Received GET request '0HMPR882LM99Q:00000002' to 'http://localhost:8085/api/Core/CampusSursee/Registration/Registration(91054) with 0 bytes of data of type Accept: application/json;odata.metadata=minimal;odata.streaming=true
Connection: keep-alive
Host: localhost:8085
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: en-GB,en
Referer: http://localhost:8085/swagger/index.html?urls.primaryName=I-AG%20Campus%20Sursee%20API
sec-ch-ua: "Chromium";v="112", "Brave";v="112", "Not:A-Brand";v="99"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
Sec-GPC: 1
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty

2023-04-12 12:38:14.9555|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL '
                SET TEMPORARY OPTION CONNECTION_AUTHENTICATION=
                'Company=Opus Software AG;Application=Atlas Framework;Signature=000fa55157edb8e14d818eb4fe3db41447146f1571g7b927fa0b2d30a756f0d29b8fd5e7a1b91124be6''
2023-04-12 12:38:14.9802|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL '
                        SELECT Sys_Version, Sys_Languages FROM xStateSystem WHERE Sys_Tag = 'Main';
                        SELECT COUNT(1) FROM SYS.SYSCATALOG WHERE SYS.SYSCATALOG.tabletype = 'TABLE' AND SYS.SYSCATALOG.tname = 'BEREICH';
                        SELECT Mit_Id FROM Mitarbeiter WHERE Mit_Login = 'Support';
                        SELECT Sys_Tag FROM xStateSystem WHERE Sys_Tag IN ('Online','DigitalDrink')'
2023-04-12 12:38:15.0236|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL '
                WITH AtlasResourceBase (
                    Name, Language, Translation
                ) AS (
                SELECT PhysMetaAtt_NameInDB, 'de', PhysMetaAtt_NameForUser
                FROM PhysMetaAttribute       
                WHERE TRIM(ISNULL(PhysMetaAtt_NameInDB, '')) != '' 
                ),
                AtlasResource (
                    Name, Language, Translation, RowNum
                ) AS (
                SELECT 
                    'Atlas.' + Name, Language, Translation, 
                    ROW_NUMBER() over (partition by Name, Language order by Name, Language)
                FROM AtlasResourceBase
                WHERE Translation IS NOT NULL
                )
                SELECT DISTINCT Name, Language, Translation 
                FROM AtlasResource 
                WHERE RowNum = 1 
                ORDER BY Name'
2023-04-12 12:38:15.1388|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL '
                SET TEMPORARY OPTION CONNECTION_AUTHENTICATION=
                'Company=Opus Software AG;Application=Atlas Framework;Signature=000fa55157edb8e14d818eb4fe3db41447146f1571g7b927fa0b2d30a756f0d29b8fd5e7a1b91124be6''
2023-04-12 12:38:15.3369|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL '
       WITH Registration (
            Id, AddressId, CompanyAddressId, BillingAddressId, KstCustomer, HrAddressId, 
            EventId, NumberOfAttendees, AdditionalAttendees, Remark, EmailForEventDocuments, 
            EmailForEventDocumentsCc, WebLinkForUserDocuments, OvernightStay, Arrival, WithLunch,
            WithSupper, RegistrationCompanyAddressId, RegistrationBillingAddressId, RegistrationHrAddressId, OnWaitingList
        ) AS (
        SELECT 
            Ver_ID, Ver_AdresseID,  Ver_SASGeschaeftsAdresseID, Ver_SASRechnungsadresseID, Ver_KSTKunde, Ver_AdresseIDHRPerson, 
            TRIM(STR(Ver_VertragDefID)), Ver_Personen, Ver_NamenPersonen, Ver_Bemerkungen, Ver_EMailZiel1, 
            Ver_EMailZiel1, Ver_DokumenteWeb, Ver_CSUebernachtung, Ver_CSAnreise, Ver_CSMahlzeitenMittagessen,
            Ver_CSMahlzeitenAbendessen, Ver_OnlineAdresseID, Ver_SASOnlineGeschaeftsAdresseID, Ver_SASOnlineRechnungsadresseID, Ver_CSaufWarteliste
        FROM OnlineVertrag
        JOIN Adresse ON Adr_Id = Ver_AdresseID
        WHERE Adr.Adr_Aktiv = -1 AND (Adr.Adr_OnlineAktiv = -1 OR Adr.Adr_AufnahmeartID = 1) 
        )        
    SELECT T.Ver_Id,T.Ver_AdresseID,T.Ver_SASGeschaeftsAdresseID,T.Ver_SASRechnungsadresseID,T.Ver_OnlineAdresseID,T.Ver_SASOnlineGeschaeftsAdresseID,T.Ver_SASOnlineRechnungsadresseID,T.Ver_KSTKunde,T.Ver_AdresseIDHRPerson,T.Ver_VertragDefID,T.Ver_Personen,T.Ver_NamenPersonen,T.Ver_Bemerkungen,T.Ver_EMailZiel1,T.Ver_EMailZiel2,T.Ver_DokumenteWeb,T.Ver_CSUebernachtung,T.Ver_CSAnreise,T.Ver_CSMahlzeitenMittagessen,T.Ver_CSMahlzeitenAbendessen,T.Ver_CSaufWarteliste,T.Ver_Verarbeitet,T.Ver_VertragID
FROM OnlineVertrag T
WHERE ((T.Ver_Id=?))
' with parameters: 91054
2023-04-12 12:38:15.4302|DEBUG|IAG.Infrastructure.Middleware.LoggingMiddleware|TraceIdentifier:http 0HMPR882LM99Q:00000002'OK' (200)
Response Body: {"Id":91054,"AddressId":58108,"CompanyAddressId":194810,"BillingAddressId":194810,"RegistrationAddressId":165444,"RegistrationCompanyAddressId":165446,"RegistrationBillingAddressId":165445,"KstCustomer":null,"HrAddressId":206605,"EventId":510055107,"NumberOfAttendees":1,"EmailForEventDocuments":"nick.zwicky@rsrg.com","EmailForEventDocumentsCc":"thomas.patzer@rsrg.com","WebLinkForUserDocuments":"https://meinbildungszentrum.campus-sursee.ch/education/weblink/bb9b89b9-ff1a-4b70-ae2f-a457b8215a2a","OvernightStay":0,"Arrival":10,"WithLunch":true,"WithSupper":false,"OnWaitingList":false,"IsProcessed":true,"RegistrationId":627138}

