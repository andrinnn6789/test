2023-04-13 09:25:37.6089|INFO|IAG.IdentityServer.Startup.ConfigureIdentityServer|Registering identity-plugin IAG.IdentityServer.Plugin.AtlasMitarbeiter
2023-04-13 09:25:37.6829|INFO|IAG.IdentityServer.Startup.ConfigureIdentityServer|Registering identity-plugin IAG.IdentityServer.Plugin.AtlasAdresse
2023-04-13 09:25:37.6829|INFO|IAG.IdentityServer.Startup.ConfigureIdentityServer|Registering identity-plugin IAG.IdentityServer.Plugin.UserDatabaseAuthentication
2023-04-13 09:25:46.6366|DEBUG|IAG.Infrastructure.Middleware.LoggingMiddleware|Received GET request '0HMPRU168VG4G:00000002' to 'http://localhost:8085/api/Core/CampusSursee/Registration/Registration(91054) with 0 bytes of data of type Accept: application/json;odata.metadata=minimal;odata.streaming=true
Connection: keep-alive
Host: localhost:8085
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: en-GB,en
Referer: http://localhost:8085/swagger/index.html?urls.primaryName=I-AG%20Campus%20Sursee%20API
sec-ch-ua: "Chromium";v="112", "Brave";v="112", "Not:A-Brand";v="99"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
Sec-GPC: 1
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty

2023-04-13 09:25:46.9441|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL '
                SET TEMPORARY OPTION CONNECTION_AUTHENTICATION=
                'Company=Opus Software AG;Application=Atlas Framework;Signature=000fa55157edb8e14d818eb4fe3db41447146f1571g7b927fa0b2d30a756f0d29b8fd5e7a1b91124be6''
2023-04-13 09:25:46.9757|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL '
                        SELECT Sys_Version, Sys_Languages FROM xStateSystem WHERE Sys_Tag = 'Main';
                        SELECT COUNT(1) FROM SYS.SYSCATALOG WHERE SYS.SYSCATALOG.tabletype = 'TABLE' AND SYS.SYSCATALOG.tname = 'BEREICH';
                        SELECT Mit_Id FROM Mitarbeiter WHERE Mit_Login = 'Support';
                        SELECT Sys_Tag FROM xStateSystem WHERE Sys_Tag IN ('Online','DigitalDrink')'
2023-04-13 09:25:47.0347|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL '
                WITH AtlasResourceBase (
                    Name, Language, Translation
                ) AS (
                SELECT PhysMetaAtt_NameInDB, 'de', PhysMetaAtt_NameForUser
                FROM PhysMetaAttribute       
                WHERE TRIM(ISNULL(PhysMetaAtt_NameInDB, '')) != '' 
                ),
                AtlasResource (
                    Name, Language, Translation, RowNum
                ) AS (
                SELECT 
                    'Atlas.' + Name, Language, Translation, 
                    ROW_NUMBER() over (partition by Name, Language order by Name, Language)
                FROM AtlasResourceBase
                WHERE Translation IS NOT NULL
                )
                SELECT DISTINCT Name, Language, Translation 
                FROM AtlasResource 
                WHERE RowNum = 1 
                ORDER BY Name'
2023-04-13 09:25:47.1818|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL '
                SET TEMPORARY OPTION CONNECTION_AUTHENTICATION=
                'Company=Opus Software AG;Application=Atlas Framework;Signature=000fa55157edb8e14d818eb4fe3db41447146f1571g7b927fa0b2d30a756f0d29b8fd5e7a1b91124be6''
2023-04-13 09:25:47.4171|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL '
       WITH Registration (
            Id, AddressId, CompanyAddressId, BillingAddressId, KstCustomer, HrAddressId, 
            EventId, NumberOfAttendees, AdditionalAttendees, Remark, EmailForEventDocuments, 
            EmailForEventDocumentsCc, WebLinkForUserDocuments, OvernightStay, Arrival, WithLunch,
            WithSupper, RegistrationCompanyAddressId, RegistrationBillingAddressId, RegistrationHrAddressId, OnWaitingList
        ) AS (
        SELECT 
            Ver_ID, Ver_AdresseID,  Ver_SASGeschaeftsAdresseID, Ver_SASRechnungsadresseID, Ver_KSTKunde, Ver_AdresseIDHRPerson, 
            TRIM(STR(Ver_VertragDefID)), Ver_Personen, Ver_NamenPersonen, Ver_Bemerkungen, Ver_EMailZiel1, 
            Ver_EMailZiel1, Ver_DokumenteWeb, Ver_CSUebernachtung, Ver_CSAnreise, Ver_CSMahlzeitenMittagessen,
            Ver_CSMahlzeitenAbendessen, Ver_OnlineAdresseID, Ver_SASOnlineGeschaeftsAdresseID, Ver_SASOnlineRechnungsadresseID, Ver_CSaufWarteliste
        FROM OnlineVertrag
        JOIN Adresse ON Adr_Id = Ver_AdresseID
        WHERE Adr.Adr_Aktiv = -1 AND (Adr.Adr_OnlineAktiv = -1 OR Adr.Adr_AufnahmeartID = 1) 
        )        
    SELECT T.Ver_Id,T.Ver_AdresseID,T.Ver_SASGeschaeftsAdresseID,T.Ver_SASRechnungsadresseID,T.Ver_OnlineAdresseID,T.Ver_SASOnlineGeschaeftsAdresseID,T.Ver_SASOnlineRechnungsadresseID,T.Ver_KSTKunde,T.Ver_AdresseIDHRPerson,T.Ver_VertragDefID,T.Ver_Personen,T.Ver_NamenPersonen,T.Ver_Bemerkungen,T.Ver_EMailZiel1,T.Ver_EMailZiel2,T.Ver_DokumenteWeb,T.Ver_CSUebernachtung,T.Ver_CSAnreise,T.Ver_CSMahlzeitenMittagessen,T.Ver_CSMahlzeitenAbendessen,T.Ver_CSaufWarteliste,T.Ver_Verarbeitet,T.Ver_VertragID
FROM OnlineVertrag T
WHERE ((T.Ver_Id=?))
' with parameters: 91054
2023-04-13 09:25:47.5314|DEBUG|IAG.Infrastructure.Middleware.LoggingMiddleware|TraceIdentifier:http 0HMPRU168VG4G:00000002'OK' (200)
Response Body: {"Id":91054,"AddressId":58108,"CompanyAddressId":194810,"BillingAddressId":194810,"RegistrationAddressId":165444,"RegistrationCompanyAddressId":165446,"RegistrationBillingAddressId":165445,"KstCustomer":null,"HrAddressId":206605,"EventId":510055107,"NumberOfAttendees":1,"EmailForEventDocuments":"nick.zwicky@rsrg.com","EmailForEventDocumentsCc":"thomas.patzer@rsrg.com","WebLinkForUserDocuments":"https://meinbildungszentrum.campus-sursee.ch/education/weblink/bb9b89b9-ff1a-4b70-ae2f-a457b8215a2a","OvernightStay":0,"Arrival":10,"WithLunch":true,"WithSupper":false,"OnWaitingList":false,"IsProcessed":true,"RegistrationId":627138}

2023-04-13 09:25:54.0820|DEBUG|IAG.Infrastructure.Middleware.LoggingMiddleware|Received POST request '0HMPRU168VG4G:00000003' to 'http://localhost:8085/api/Core/CampusSursee/Registration/Registration(91054)/UpdateWeblink with 29 bytes of data of type application/json;odata.metadata=minimal;odata.streaming=trueAccept: */*
Connection: keep-alive
Host: localhost:8085
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: en-GB,en
Content-Type: application/json;odata.metadata=minimal;odata.streaming=true
Origin: http://localhost:8085
Referer: http://localhost:8085/swagger/index.html?urls.primaryName=I-AG%20Campus%20Sursee%20API
Content-Length: 29
sec-ch-ua: "Chromium";v="112", "Brave";v="112", "Not:A-Brand";v="99"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
Sec-GPC: 1
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
{
  "Weblink": "link123456"
}

2023-04-13 09:25:54.1049|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL '
                SET TEMPORARY OPTION CONNECTION_AUTHENTICATION=
                'Company=Opus Software AG;Application=Atlas Framework;Signature=000fa55157edb8e14d818eb4fe3db41447146f1571g7b927fa0b2d30a756f0d29b8fd5e7a1b91124be6''
2023-04-13 09:25:54.1325|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL '
                SET TEMPORARY OPTION CONNECTION_AUTHENTICATION=
                'Company=Opus Software AG;Application=Atlas Framework;Signature=000fa55157edb8e14d818eb4fe3db41447146f1571g7b927fa0b2d30a756f0d29b8fd5e7a1b91124be6''
2023-04-13 09:25:54.1815|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL '
       WITH Registration (
            Id, AddressId, CompanyAddressId, BillingAddressId, KstCustomer, HrAddressId, 
            EventId, NumberOfAttendees, AdditionalAttendees, Remark, EmailForEventDocuments, 
            EmailForEventDocumentsCc, WebLinkForUserDocuments, OvernightStay, Arrival, WithLunch,
            WithSupper, RegistrationCompanyAddressId, RegistrationBillingAddressId, RegistrationHrAddressId, OnWaitingList
        ) AS (
        SELECT 
            Ver_ID, Ver_AdresseID,  Ver_SASGeschaeftsAdresseID, Ver_SASRechnungsadresseID, Ver_KSTKunde, Ver_AdresseIDHRPerson, 
            TRIM(STR(Ver_VertragDefID)), Ver_Personen, Ver_NamenPersonen, Ver_Bemerkungen, Ver_EMailZiel1, 
            Ver_EMailZiel1, Ver_DokumenteWeb, Ver_CSUebernachtung, Ver_CSAnreise, Ver_CSMahlzeitenMittagessen,
            Ver_CSMahlzeitenAbendessen, Ver_OnlineAdresseID, Ver_SASOnlineGeschaeftsAdresseID, Ver_SASOnlineRechnungsadresseID, Ver_CSaufWarteliste
        FROM OnlineVertrag
        JOIN Adresse ON Adr_Id = Ver_AdresseID
        WHERE Adr.Adr_Aktiv = -1 AND (Adr.Adr_OnlineAktiv = -1 OR Adr.Adr_AufnahmeartID = 1) 
        )        
    SELECT T.Ver_Id,T.Ver_AdresseID,T.Ver_SASGeschaeftsAdresseID,T.Ver_SASRechnungsadresseID,T.Ver_OnlineAdresseID,T.Ver_SASOnlineGeschaeftsAdresseID,T.Ver_SASOnlineRechnungsadresseID,T.Ver_KSTKunde,T.Ver_AdresseIDHRPerson,T.Ver_VertragDefID,T.Ver_Personen,T.Ver_NamenPersonen,T.Ver_Bemerkungen,T.Ver_EMailZiel1,T.Ver_EMailZiel2,T.Ver_DokumenteWeb,T.Ver_CSUebernachtung,T.Ver_CSAnreise,T.Ver_CSMahlzeitenMittagessen,T.Ver_CSMahlzeitenAbendessen,T.Ver_CSaufWarteliste,T.Ver_Verarbeitet,T.Ver_VertragID
FROM OnlineVertrag T
WHERE ((T.Ver_Id=?))
' with parameters: 91054
2023-04-13 09:25:54.2209|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL '
       WITH Registration (
            Id, AddressId, BillingAddressId, KstCustomer, HrAddressId, EventId, 
            EventParentId, NumberOfAttendees, AdditionalAttendees, Remark, EmailForEventDocuments, 
            EmailForEventDocumentsCc, WebLinkForUserDocuments, StatusName, StatusId, RoleId, LastChange
        ) AS (
        SELECT 
            Ver_ID, Ver_AdresseID, Ver_RechnungsadresseID, Ver_KSTKunde, Ver_AdresseIDHRPerson, Ver_VertragDefID, 
            IsNull(VerDefParent.VerDef_ID, Ver_VertragDefID), Ver_Personen, Ver_NamenPersonen, Ver_Bemerkungen, Ver_EMailZiel1, 
            Ver_EMailZiel2, Ver_DokumenteWeb , Status_Bezeichnung, Status_Id, Ver_RolleId,
            Ver_ChangedOn        
        FROM Vertrag
        JOIN VertragStatus ON Status_Id = Ver_StatusId
        JOIN Adresse Adr ON Adr.Adr_Id = Ver_AdresseID
        LEFT OUTER JOIN VertragDefBeziehung ON EreigBez_VertragDefID = Ver_VertragDefID and EreigBez_BeziehungstypID IN (8)
        LEFT OUTER JOIN VertragDef VerDefParent ON VerDefParent.VerDef_Id = EreigBez_GegenVertragDefID
        WHERE Ver_BereichId = 2 AND Adr.Adr_Aktiv = -1 AND (Adr.Adr_OnlineAktiv = -1 OR Adr.Adr_AufnahmeartID = 1) 
        )        
        SELECT T.Ver_Id,T.Ver_DokumenteWeb
FROM Vertrag T
WHERE (((T.Ver_Id)=?))
' with parameters: 627138
2023-04-13 09:25:54.2380|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL 'UPDATE Vertrag
SET Ver_DokumenteWeb=?
WHERE Ver_Id=?' with parameters: "link123456",627138
2023-04-13 09:25:54.2380|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL 'UPDATE OnlineVertrag
SET Ver_AdresseID=?,Ver_SASGeschaeftsAdresseID=?,Ver_SASRechnungsadresseID=?,Ver_OnlineAdresseID=?,Ver_SASOnlineGeschaeftsAdresseID=?,Ver_SASOnlineRechnungsadresseID=?,Ver_KSTKunde=?,Ver_AdresseIDHRPerson=?,Ver_VertragDefID=?,Ver_Personen=?,Ver_NamenPersonen=?,Ver_Bemerkungen=?,Ver_EMailZiel1=?,Ver_EMailZiel2=?,Ver_DokumenteWeb=?,Ver_CSUebernachtung=?,Ver_CSAnreise=?,Ver_CSMahlzeitenMittagessen=?,Ver_CSMahlzeitenAbendessen=?,Ver_CSaufWarteliste=?,Ver_Verarbeitet=?,Ver_VertragID=?
WHERE Ver_Id=?' with parameters: 58108,194810,194810,165444,165446,165445,null,206605,510055107,1,null,null,"nick.zwicky@rsrg.com","thomas.patzer@rsrg.com","link123456",0,10,-1,0,0,True,627138,91054
2023-04-13 09:25:54.2578|DEBUG|IAG.Infrastructure.Middleware.LoggingMiddleware|TraceIdentifier:http 0HMPRU168VG4G:00000003'NoContent' (204)
Response Body:  with 0 bytes of data

2023-04-13 09:25:56.4810|DEBUG|IAG.Infrastructure.Middleware.LoggingMiddleware|Received POST request '0HMPRU168VG4G:00000004' to 'http://localhost:8085/api/Core/CampusSursee/Registration/Registration(91054)/UpdateWeblink with 29 bytes of data of type application/json;odata.metadata=minimal;odata.streaming=trueAccept: */*
Connection: keep-alive
Host: localhost:8085
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: en-GB,en
Content-Type: application/json;odata.metadata=minimal;odata.streaming=true
Origin: http://localhost:8085
Referer: http://localhost:8085/swagger/index.html?urls.primaryName=I-AG%20Campus%20Sursee%20API
Content-Length: 29
sec-ch-ua: "Chromium";v="112", "Brave";v="112", "Not:A-Brand";v="99"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
Sec-GPC: 1
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
{
  "Weblink": "link123456"
}

2023-04-13 09:25:56.5098|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL '
                SET TEMPORARY OPTION CONNECTION_AUTHENTICATION=
                'Company=Opus Software AG;Application=Atlas Framework;Signature=000fa55157edb8e14d818eb4fe3db41447146f1571g7b927fa0b2d30a756f0d29b8fd5e7a1b91124be6''
2023-04-13 09:25:56.5353|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL '
                SET TEMPORARY OPTION CONNECTION_AUTHENTICATION=
                'Company=Opus Software AG;Application=Atlas Framework;Signature=000fa55157edb8e14d818eb4fe3db41447146f1571g7b927fa0b2d30a756f0d29b8fd5e7a1b91124be6''
2023-04-13 09:25:56.5664|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL '
       WITH Registration (
            Id, AddressId, CompanyAddressId, BillingAddressId, KstCustomer, HrAddressId, 
            EventId, NumberOfAttendees, AdditionalAttendees, Remark, EmailForEventDocuments, 
            EmailForEventDocumentsCc, WebLinkForUserDocuments, OvernightStay, Arrival, WithLunch,
            WithSupper, RegistrationCompanyAddressId, RegistrationBillingAddressId, RegistrationHrAddressId, OnWaitingList
        ) AS (
        SELECT 
            Ver_ID, Ver_AdresseID,  Ver_SASGeschaeftsAdresseID, Ver_SASRechnungsadresseID, Ver_KSTKunde, Ver_AdresseIDHRPerson, 
            TRIM(STR(Ver_VertragDefID)), Ver_Personen, Ver_NamenPersonen, Ver_Bemerkungen, Ver_EMailZiel1, 
            Ver_EMailZiel1, Ver_DokumenteWeb, Ver_CSUebernachtung, Ver_CSAnreise, Ver_CSMahlzeitenMittagessen,
            Ver_CSMahlzeitenAbendessen, Ver_OnlineAdresseID, Ver_SASOnlineGeschaeftsAdresseID, Ver_SASOnlineRechnungsadresseID, Ver_CSaufWarteliste
        FROM OnlineVertrag
        JOIN Adresse ON Adr_Id = Ver_AdresseID
        WHERE Adr.Adr_Aktiv = -1 AND (Adr.Adr_OnlineAktiv = -1 OR Adr.Adr_AufnahmeartID = 1) 
        )        
    SELECT T.Ver_Id,T.Ver_AdresseID,T.Ver_SASGeschaeftsAdresseID,T.Ver_SASRechnungsadresseID,T.Ver_OnlineAdresseID,T.Ver_SASOnlineGeschaeftsAdresseID,T.Ver_SASOnlineRechnungsadresseID,T.Ver_KSTKunde,T.Ver_AdresseIDHRPerson,T.Ver_VertragDefID,T.Ver_Personen,T.Ver_NamenPersonen,T.Ver_Bemerkungen,T.Ver_EMailZiel1,T.Ver_EMailZiel2,T.Ver_DokumenteWeb,T.Ver_CSUebernachtung,T.Ver_CSAnreise,T.Ver_CSMahlzeitenMittagessen,T.Ver_CSMahlzeitenAbendessen,T.Ver_CSaufWarteliste,T.Ver_Verarbeitet,T.Ver_VertragID
FROM OnlineVertrag T
WHERE ((T.Ver_Id=?))
' with parameters: 91054
2023-04-13 09:25:56.6034|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL '
       WITH Registration (
            Id, AddressId, BillingAddressId, KstCustomer, HrAddressId, EventId, 
            EventParentId, NumberOfAttendees, AdditionalAttendees, Remark, EmailForEventDocuments, 
            EmailForEventDocumentsCc, WebLinkForUserDocuments, StatusName, StatusId, RoleId, LastChange
        ) AS (
        SELECT 
            Ver_ID, Ver_AdresseID, Ver_RechnungsadresseID, Ver_KSTKunde, Ver_AdresseIDHRPerson, Ver_VertragDefID, 
            IsNull(VerDefParent.VerDef_ID, Ver_VertragDefID), Ver_Personen, Ver_NamenPersonen, Ver_Bemerkungen, Ver_EMailZiel1, 
            Ver_EMailZiel2, Ver_DokumenteWeb , Status_Bezeichnung, Status_Id, Ver_RolleId,
            Ver_ChangedOn        
        FROM Vertrag
        JOIN VertragStatus ON Status_Id = Ver_StatusId
        JOIN Adresse Adr ON Adr.Adr_Id = Ver_AdresseID
        LEFT OUTER JOIN VertragDefBeziehung ON EreigBez_VertragDefID = Ver_VertragDefID and EreigBez_BeziehungstypID IN (8)
        LEFT OUTER JOIN VertragDef VerDefParent ON VerDefParent.VerDef_Id = EreigBez_GegenVertragDefID
        WHERE Ver_BereichId = 2 AND Adr.Adr_Aktiv = -1 AND (Adr.Adr_OnlineAktiv = -1 OR Adr.Adr_AufnahmeartID = 1) 
        )        
        SELECT T.Ver_Id,T.Ver_DokumenteWeb
FROM Vertrag T
WHERE (((T.Ver_Id)=?))
' with parameters: 627138
2023-04-13 09:25:56.6151|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL 'UPDATE Vertrag
SET Ver_DokumenteWeb=?
WHERE Ver_Id=?' with parameters: "link123456",627138
2023-04-13 09:25:56.6151|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL 'UPDATE OnlineVertrag
SET Ver_AdresseID=?,Ver_SASGeschaeftsAdresseID=?,Ver_SASRechnungsadresseID=?,Ver_OnlineAdresseID=?,Ver_SASOnlineGeschaeftsAdresseID=?,Ver_SASOnlineRechnungsadresseID=?,Ver_KSTKunde=?,Ver_AdresseIDHRPerson=?,Ver_VertragDefID=?,Ver_Personen=?,Ver_NamenPersonen=?,Ver_Bemerkungen=?,Ver_EMailZiel1=?,Ver_EMailZiel2=?,Ver_DokumenteWeb=?,Ver_CSUebernachtung=?,Ver_CSAnreise=?,Ver_CSMahlzeitenMittagessen=?,Ver_CSMahlzeitenAbendessen=?,Ver_CSaufWarteliste=?,Ver_Verarbeitet=?,Ver_VertragID=?
WHERE Ver_Id=?' with parameters: 58108,194810,194810,165444,165446,165445,null,206605,510055107,1,null,null,"nick.zwicky@rsrg.com","thomas.patzer@rsrg.com","link123456",0,10,-1,0,0,True,627138,91054
2023-04-13 09:25:56.6270|DEBUG|IAG.Infrastructure.Middleware.LoggingMiddleware|TraceIdentifier:http 0HMPRU168VG4G:00000004'NoContent' (204)
Response Body:  with 0 bytes of data

2023-04-13 09:26:29.6300|DEBUG|IAG.Infrastructure.Middleware.LoggingMiddleware|Received POST request '0HMPRU168VG4G:00000005' to 'http://localhost:8085/api/Core/CampusSursee/Registration/Registration(91054)/UpdateWeblink with 29 bytes of data of type application/json;odata.metadata=minimal;odata.streaming=trueAccept: */*
Connection: keep-alive
Host: localhost:8085
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br
Accept-Language: en-GB,en
Content-Type: application/json;odata.metadata=minimal;odata.streaming=true
Origin: http://localhost:8085
Referer: http://localhost:8085/swagger/index.html?urls.primaryName=I-AG%20Campus%20Sursee%20API
Content-Length: 29
sec-ch-ua: "Chromium";v="112", "Brave";v="112", "Not:A-Brand";v="99"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
Sec-GPC: 1
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
{
  "Weblink": "link123456"
}

2023-04-13 09:26:29.6518|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL '
                SET TEMPORARY OPTION CONNECTION_AUTHENTICATION=
                'Company=Opus Software AG;Application=Atlas Framework;Signature=000fa55157edb8e14d818eb4fe3db41447146f1571g7b927fa0b2d30a756f0d29b8fd5e7a1b91124be6''
2023-04-13 09:26:29.6779|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL '
                SET TEMPORARY OPTION CONNECTION_AUTHENTICATION=
                'Company=Opus Software AG;Application=Atlas Framework;Signature=000fa55157edb8e14d818eb4fe3db41447146f1571g7b927fa0b2d30a756f0d29b8fd5e7a1b91124be6''
2023-04-13 09:26:29.7092|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL '
       WITH Registration (
            Id, AddressId, CompanyAddressId, BillingAddressId, KstCustomer, HrAddressId, 
            EventId, NumberOfAttendees, AdditionalAttendees, Remark, EmailForEventDocuments, 
            EmailForEventDocumentsCc, WebLinkForUserDocuments, OvernightStay, Arrival, WithLunch,
            WithSupper, RegistrationCompanyAddressId, RegistrationBillingAddressId, RegistrationHrAddressId, OnWaitingList
        ) AS (
        SELECT 
            Ver_ID, Ver_AdresseID,  Ver_SASGeschaeftsAdresseID, Ver_SASRechnungsadresseID, Ver_KSTKunde, Ver_AdresseIDHRPerson, 
            TRIM(STR(Ver_VertragDefID)), Ver_Personen, Ver_NamenPersonen, Ver_Bemerkungen, Ver_EMailZiel1, 
            Ver_EMailZiel1, Ver_DokumenteWeb, Ver_CSUebernachtung, Ver_CSAnreise, Ver_CSMahlzeitenMittagessen,
            Ver_CSMahlzeitenAbendessen, Ver_OnlineAdresseID, Ver_SASOnlineGeschaeftsAdresseID, Ver_SASOnlineRechnungsadresseID, Ver_CSaufWarteliste
        FROM OnlineVertrag
        JOIN Adresse ON Adr_Id = Ver_AdresseID
        WHERE Adr.Adr_Aktiv = -1 AND (Adr.Adr_OnlineAktiv = -1 OR Adr.Adr_AufnahmeartID = 1) 
        )        
    SELECT T.Ver_Id,T.Ver_AdresseID,T.Ver_SASGeschaeftsAdresseID,T.Ver_SASRechnungsadresseID,T.Ver_OnlineAdresseID,T.Ver_SASOnlineGeschaeftsAdresseID,T.Ver_SASOnlineRechnungsadresseID,T.Ver_KSTKunde,T.Ver_AdresseIDHRPerson,T.Ver_VertragDefID,T.Ver_Personen,T.Ver_NamenPersonen,T.Ver_Bemerkungen,T.Ver_EMailZiel1,T.Ver_EMailZiel2,T.Ver_DokumenteWeb,T.Ver_CSUebernachtung,T.Ver_CSAnreise,T.Ver_CSMahlzeitenMittagessen,T.Ver_CSMahlzeitenAbendessen,T.Ver_CSaufWarteliste,T.Ver_Verarbeitet,T.Ver_VertragID
FROM OnlineVertrag T
WHERE ((T.Ver_Id=?))
' with parameters: 91054
2023-04-13 09:26:29.7439|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL '
       WITH Registration (
            Id, AddressId, BillingAddressId, KstCustomer, HrAddressId, EventId, 
            EventParentId, NumberOfAttendees, AdditionalAttendees, Remark, EmailForEventDocuments, 
            EmailForEventDocumentsCc, WebLinkForUserDocuments, StatusName, StatusId, RoleId, LastChange
        ) AS (
        SELECT 
            Ver_ID, Ver_AdresseID, Ver_RechnungsadresseID, Ver_KSTKunde, Ver_AdresseIDHRPerson, Ver_VertragDefID, 
            IsNull(VerDefParent.VerDef_ID, Ver_VertragDefID), Ver_Personen, Ver_NamenPersonen, Ver_Bemerkungen, Ver_EMailZiel1, 
            Ver_EMailZiel2, Ver_DokumenteWeb , Status_Bezeichnung, Status_Id, Ver_RolleId,
            Ver_ChangedOn        
        FROM Vertrag
        JOIN VertragStatus ON Status_Id = Ver_StatusId
        JOIN Adresse Adr ON Adr.Adr_Id = Ver_AdresseID
        LEFT OUTER JOIN VertragDefBeziehung ON EreigBez_VertragDefID = Ver_VertragDefID and EreigBez_BeziehungstypID IN (8)
        LEFT OUTER JOIN VertragDef VerDefParent ON VerDefParent.VerDef_Id = EreigBez_GegenVertragDefID
        WHERE Ver_BereichId = 2 AND Adr.Adr_Aktiv = -1 AND (Adr.Adr_OnlineAktiv = -1 OR Adr.Adr_AufnahmeartID = 1) 
        )        
        SELECT T.Ver_Id,T.Ver_DokumenteWeb
FROM Vertrag T
WHERE (((T.Ver_Id)=?))
' with parameters: 627138
2023-04-13 09:26:29.7545|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL 'UPDATE Vertrag
SET Ver_DokumenteWeb=?
WHERE Ver_Id=?' with parameters: "link123456",627138
2023-04-13 09:26:29.7545|DEBUG|IAG.Common.DataLayerSybase.SybaseConnection|Execute SQL 'UPDATE OnlineVertrag
SET Ver_AdresseID=?,Ver_SASGeschaeftsAdresseID=?,Ver_SASRechnungsadresseID=?,Ver_OnlineAdresseID=?,Ver_SASOnlineGeschaeftsAdresseID=?,Ver_SASOnlineRechnungsadresseID=?,Ver_KSTKunde=?,Ver_AdresseIDHRPerson=?,Ver_VertragDefID=?,Ver_Personen=?,Ver_NamenPersonen=?,Ver_Bemerkungen=?,Ver_EMailZiel1=?,Ver_EMailZiel2=?,Ver_DokumenteWeb=?,Ver_CSUebernachtung=?,Ver_CSAnreise=?,Ver_CSMahlzeitenMittagessen=?,Ver_CSMahlzeitenAbendessen=?,Ver_CSaufWarteliste=?,Ver_Verarbeitet=?,Ver_VertragID=?
WHERE Ver_Id=?' with parameters: 58108,194810,194810,165444,165446,165445,null,206605,510055107,1,null,null,"nick.zwicky@rsrg.com","thomas.patzer@rsrg.com","link123456",0,10,-1,0,0,True,627138,91054
2023-04-13 09:26:29.7680|DEBUG|IAG.Infrastructure.Middleware.LoggingMiddleware|TraceIdentifier:http 0HMPRU168VG4G:00000005'NoContent' (204)
Response Body:  with 0 bytes of data

